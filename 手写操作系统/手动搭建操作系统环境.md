手写OS环境自己搭建教程
自己折腾一下，踩踩坑，也是一种成长
我的环境
我使用的相关软件包：链接：https://pan.baidu.com/s/1_cK2ssRZcV1NIQIM00d_AA 提取码：ziya
1、VMware虚拟机（开发环境）
image.png
2、bochs2.7（运行我们写的OS的虚拟机）
3、qemu（运行我们写的OS的虚拟机）（Ubuntu16直接按照的）
为什么运行我们写的OS需要两个虚拟机？因为需要
调试C语言可以用qemu，也只能用qemu
调试汇编、GDT、IDT、分页等，必须用bochs
如果没概念，等我课上讲
安装bochs
必须安装bochs2.7，因为我提供的代码中的bochs配置文件是针对2.7的，其他版本用不了
1、先安装依赖
2、配置
3、编译
安装qemu
这个直接用命令安装即可
运行内核
1、获取代码权限
登录代码仓库http://git.neihedaren.com/
如果没看到这个项目，找安董给你开通权限
用户名：每个人的微信号（注意，是微信号，不是微信昵称）
密码：1234qwer（大家登录进去自己改下）
image.png
画红线的部分我想表达的意思是git clone的时候用http协议，不要用ssh，没配置证书
2、将代码下载下来
如果你不会用git，B站站找个视频看下
输入命令后会让你输入账号、密码，输入你自己的
3、使用clion打开内核
这个如果不会，百度搜：clion 打开项目
4、使用bochs运行内核
image.png
image.png
5、使用qemu运行内核
image.png
image.png
6、单步调试内核
1、启动qemu
image.png
2、配置clion
image.png
3、下段
image.png
4、启动调试器
image.png
就成功实现了调试我们自己写的内核中的C语言代码，对于后面排错非常有用
这个功能，这么方便的做到，花了我很长很长时间研究
image.png
代码中提供了两种操作系统启动媒介，一种是软盘，一种是硬盘
image.png
上面讲的是一键编译、生成内核、运行
如果是前两个分支，每一步都需要自己做
1、安装nasm
2、编译boot.asm
image.png
3、去生成内核
image.png
如果main函数前面没有三角符号，修改cmakefile
image.png
看到这个代表生成了内核
image.png
如果出现以下提示：
image.png
改成你机器上的cmake版本就行了，新建一个项目，copy过来
生成了内核，就可以用bochs、qemu运行。方式跟上面讲的一样